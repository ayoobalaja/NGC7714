{"meta":{"title":"STATION(NGC7714)","subtitle":"","description":"PLEASE PROTECT THIS AREA","author":"Irregulator","url":"http://example.com","root":"/"},"pages":[{"title":"Repositories","date":"2024-10-11T08:27:14.399Z","updated":"2024-10-11T08:27:14.399Z","comments":false,"path":"repository/index.html","permalink":"http://example.com/repository/index.html","excerpt":"","text":""},{"title":"分类","date":"2024-10-11T08:33:56.000Z","updated":"2024-10-11T08:33:56.000Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"About Me","date":"2024-10-11T09:18:22.000Z","updated":"2024-10-11T09:18:22.000Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"Email&#121;&#x75;&#x65;&#46;&#119;&#97;&#110;&#x67;&#95;&#x31;&#64;&#114;&#101;&#110;&#x6e;&#101;&#x73;&#45;&#115;&#x62;&#46;&#99;&#x6f;&#109; EducationMA of Environmental and Resource Economics, Australian National UniversityBA of Economic, Guangdong University of Foreign Studies SkillsPython: ★★★★☆R: ★★★★☆SQL: ★★★★☆STATA: ★★★★★Tableau: ★★★★★ MY Cat"}],"posts":[{"title":"Hexo-pure装修记录","slug":"博客装修记录","date":"2024-10-17T13:33:51.000Z","updated":"2024-10-17T13:33:51.000Z","comments":true,"path":"2024/10/17/博客装修记录/","permalink":"http://example.com/2024/10/17/%E5%8D%9A%E5%AE%A2%E8%A3%85%E4%BF%AE%E8%AE%B0%E5%BD%95/","excerpt":"","text":"在主题hexo-pure的基础上自定义自己的博客主页，除了在_config.中修改以外，还可以自行修改代码以装修个性化主页。 目录1.添加渐变背景色2.修改首页布局3.隐藏底部主题标注4.删除“本文链接”和“版权声明 1.添加渐变背景色 在 https://webgradients.com 中获取背景色并copy css 在style.css中，将 12body &#123; margin: 0; 改为 1234body &#123; margin: 0; background-image: linear-gradient(-20deg, #e9defa 0%, #fbfcdb 100%);&#125; 再分别修改header,sidebar的透明度， 12345678/* .4为透明度，如果设置为0就会是完全透明*/.header &#123; background: rgba(255,255,255,.4);&#125;.sidebar &#123; background: rgba(255,255,255,.1);&#125; 2.修改首页布局 在原首页布局中，文章列表按时间顺序排序，从内容上看比较杂乱无章，如果能按文章分类排列，在每个分类内再按时间排序，则更有条理。因此，修改layout的index.ejs，将 123456789101112131415&lt;article class=&quot;article article-type-&lt;%= post.layout %&gt;&quot; itemscope itemtype=&quot;http://schema.org/BlogPosting&quot;&gt; &lt;div class=&quot;article-header&quot;&gt; &lt;%- partial(&#x27;post/title&#x27;, &#123;class_name: &#x27;article-title&#x27;&#125;) %&gt; &lt;/div&gt; &lt;% if (post.excerpt)&#123; %&gt; &lt;div class=&quot;article-entry text-muted&quot; itemprop=&quot;description&quot;&gt; &lt;%- post.excerpt %&gt; &lt;/div&gt; &lt;% &#125; %&gt; &lt;p class=&quot;article-meta&quot;&gt; &lt;%- partial(&#x27;post/date&#x27;, &#123;class_name: &#x27;article-date&#x27;, date_format: &#x27;MM月DD日&#x27;&#125;) %&gt; &lt;%- partial(&#x27;post/category&#x27;) %&gt; &lt;%- partial(&#x27;post/tag&#x27;) %&gt; &lt;/p&gt;&lt;/article&gt; 改为 123456789101112131415161718192021222324&lt;div class=&quot;article-body&quot;&gt; &lt;% site.categories.each(function(item)&#123; %&gt; &lt;div class=&quot;panel panel-default b-no&quot;&gt; &lt;div class=&quot;panel-heading&quot; role=&quot;tab&quot;&gt; &lt;h3 class=&quot;panel-title&quot;&gt; &lt;a data-toggle=&quot;collapse&quot; href=&quot;#collapse&lt;%= item.name %&gt;&quot; aria-expanded=&quot;true&quot;&gt; &lt;i class=&quot;icon icon-folder text-active&quot;&gt;&lt;/i&gt;&lt;i class=&quot;icon icon-folder-open text&quot;&gt;&lt;/i&gt; &lt;%= item.name %&gt; &lt;/a&gt; &lt;middle class=&quot;text-muted&quot;&gt;(&lt;%= item.posts.length %&gt;)&lt;/middle&gt; &lt;/h3&gt; &lt;/div&gt; &lt;div id=&quot;collapse&lt;%= item.name %&gt;&quot; class=&quot;panel-collapse collapse in&quot; role=&quot;tabpanel&quot; aria-labelledby=&quot;heading&lt;%= item.name %&gt;&quot;&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;div class=&quot;collection&quot;&gt; &lt;% item.posts.each(function(post)&#123; %&gt; &lt;%- partial(&#x27;_partial/item-post&#x27;, &#123;post: post, type: &#x27;link&#x27;&#125;) %&gt; &lt;% &#125;) %&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;% &#125;) %&gt; &lt;/div&gt; 首页修改为以分类显示后，可能会出现字体大小、颜色不合适之类的问题，只需要在css中修改panel的设置即可。 3.隐藏底部主题标注 如果想隐藏页面左下角的Theme by 到layout的footer删除或按需自行修改: 12345 &lt;/div&gt; &lt;div class=&quot;publishby&quot;&gt; &lt;%= __(&#x27;copyright.theme_by&#x27;) %&gt; &lt;a href=&quot;https://github.com/cofess&quot; target=&quot;_blank&quot;&gt; cofess &lt;/a&gt;&lt;%= __(&#x27;copyright.base_on&#x27;) %&gt; &lt;a href=&quot;https://github.com/cofess/hexo-theme-pure&quot; target=&quot;_blank&quot;&gt;pure&lt;/a&gt;. &lt;/div&gt;&lt;/div&gt; 删除后就不会再显示 要注意，主题的_config.中，copyright要设置true才会显示© 2024 XXX 4.删除“本文链接”和“版权声明” 参考 ‘本文链接’和‘版权声明’取消不掉 #128，修改layout的copyright。 删除或按需修改： 12345678910111213141516171819202122232425262728293031&lt;blockquote class=&quot;mt-2x&quot;&gt; &lt;ul class=&quot;post-copyright list-unstyled&quot;&gt; &lt;% if (post.permalink) &#123; %&gt; &lt;li class=&quot;post-copyright-link hidden-xs&quot;&gt; &lt;strong&gt;本文链接：&lt;/strong&gt; &lt;a href=&quot;&lt;%- post.permalink %&gt;&quot; title=&quot;&lt;%= post.title %&gt;&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;%- decodeURIComponent(post.permalink) %&gt;&lt;/a&gt; &lt;/li&gt; &lt;% &#125; %&gt; &lt;li class=&quot;post-copyright-license&quot;&gt; &lt;strong&gt;版权声明： &lt;/strong&gt; 本博客所有文章除特别声明外，均采用 &lt;a href=&quot;http://creativecommons.org/licenses/by/4.0/deed.zh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CC BY 4.0 CN协议&lt;/a&gt; 许可协议。转载请注明出处！ &lt;/li&gt; &lt;/ul&gt;&lt;/blockquote&gt;&lt;% if(theme.profile &amp;&amp; theme.profile.enabled) &#123; %&gt;&lt;% var profile = theme.profile; %&gt;&lt;div class=&quot;panel panel-default panel-badger&quot;&gt; &lt;div class=&quot;panel-body&quot;&gt; &lt;figure class=&quot;media&quot;&gt; &lt;div class=&quot;media-left&quot;&gt; &lt;a href=&quot;&lt;%= profile.follow %&gt;&quot; target=&quot;_blank&quot; class=&quot;img-burn thumb-sm visible-lg&quot;&gt; &lt;img src=&quot;&lt;%= ( profile.gravatar ? gravatar(profile.gravatar, 128) : url_for(profile.avatar)) %&gt;&quot; class=&quot;img-rounded w-full&quot; alt=&quot;&quot;&gt; &lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;media-body&quot;&gt; &lt;h3 class=&quot;media-heading&quot;&gt;&lt;a href=&quot;&lt;%= profile.follow %&gt;&quot; target=&quot;_blank&quot;&gt;&lt;span class=&quot;text-dark&quot;&gt;&lt;%= profile.author %&gt;&lt;/span&gt;&lt;small class=&quot;ml-1x&quot;&gt;&lt;%= profile.author_title %&gt;&lt;/small&gt;&lt;/a&gt;&lt;/h3&gt; &lt;div&gt;&lt;%= profile.author_description %&gt;&lt;/div&gt; &lt;/div&gt; &lt;/figure&gt; &lt;/div&gt;&lt;/div&gt;&lt;% &#125; %&gt; ————持续更新————","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://example.com/categories/Hexo/"}],"tags":[]},{"title":"用户行为分析练习2 (Python随机森林模型)","slug":"用户行为分析练习2","date":"2024-10-11T04:09:33.000Z","updated":"2024-10-11T04:09:33.000Z","comments":true,"path":"2024/10/11/用户行为分析练习2/","permalink":"http://example.com/2024/10/11/%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%E7%BB%83%E4%B9%A02/","excerpt":"","text":"参考：用户行为分析练习1 (Mysql,Tableau) 该练习使用&lt;用户行为分析练习1&gt;数据清洗及合并后的数据 数据下载 分析需求在&lt;用户行为分析练习1&gt;中，通过漏斗分析发现从产品页到支付页这一环节出现异常，流失了近43%的用户，因此希望能深入分析，使用随机森林模型识别影响用户进入支付页的因素。 理论基础随机森林（Random Forest）是属于bagging的集成学习方法，它通过构建多个决策树进行预测，并取输出平均值或投票值来提高模型的准确性和稳健性。它的基本思想是从总体样本中随机取一部分作为训练集，在每棵决策树的节点随机选取部分特征分裂，选取所有决策树的输出结果的平均值作为最终的预测结果，并取训练集以外的样本为测试集，测试模型的准确度。 该练习中，用户特征包含了年龄、性别、访问来源、使用设备、访问页面数，这些特征可以作为随机森林中的决策树，例如： 1234决策树1: “SEO来源-年龄在20-30之间-访问了5个页面”的用户更可能进入支付页决策树2: “广告来源-年龄在40-50之间-男性”的用户更可能进入支付页决策树3: “SEO来源-女性-使用安卓系统”的用户更可能进入支付页... 这些决策树各自作出不同的预测，最后取平均值就能了解各个因素对用户进入支付页的边际影响。 随机森林应用于这个分析的优点： 这个分析中用户特征包含5类，而随机森林能处理多特征数据，并且不需要主动选择特征； 在无法保证用户特征相互独立、不互相影响的前提下，随机森林能处理数据非线性关系和交互作用； 数据包含近10万条用户信息，数据规模庞大，随机森林在大规模数据的训练中具有更高的性能。 数据处理1234567891011121314151617181920212223242526#导入工具库import pandas as pdimport numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.ensemble import RandomForestClassifierfrom sklearn.metrics import accuracy_score#导入数据data=pd.read_csv(&#x27;MergeData.csv&#x27;) #自行改路径print(data)#数据预处理data.info()print(data.isnull().sum())#当用户有进入某个页面的行为，则标记为1，否则为0data=data.fillna(0)data.iloc[:,9:]=data.iloc[:,9:].apply(pd.to_numeric, errors=&#x27;coerce&#x27;).fillna(1).astype(int)#用户性别、用户来源属性转化为数值#0为女性,1为男性data[&#x27;sex&#x27;]=pd.Categorical(data[&#x27;sex&#x27;]).codes.astype(&#x27;int64&#x27;)#0为广告,1为直接,2为SEOdata[&#x27;source&#x27;]=pd.Categorical(data[&#x27;source&#x27;]).codes.astype(&#x27;int64&#x27;)print(data) user_id new_user age sex market device operative_system source total_pages_visited home_page listing_page product_page payment_page payment_confirmation_page 0 jd_49db0d7c3d515 0 21 0 1 mobile android 2 5 1 1 1 1 0 1 jd_44a228c1a32a3 0 19 1 3 mobile android 1 9 1 1 1 1 1 2 jd_sMWMgBPEIRny 0 20 0 1 mobile other 1 5 1 1 1 1 0 3 jd_7e8dec2d1fd48 1 40 1 2 desktop mac 1 4 1 1 1 1 0 4 jd_5087a566feedc 0 29 0 1 desktop windows 1 15 1 1 1 1 1 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 98751 jd_767766709c70e 1 33 1 2 mobile android 2 6 1 1 0 0 0 98752 jd_5696eced31404 1 38 0 1 mobile android 2 7 1 1 1 0 0 98753 jd_744e0e3b57cf3 0 40 0 2 mobile android 2 14 1 0 0 0 0 98754 jd_xkOJRcQFYNwg 0 23 1 3 mobile android 1 12 1 1 0 0 0 98755 jd_40e806f5768ab 0 28 0 1 mobile android 2 9 1 1 0 0 0 模型训练1234567891011121314151617181920212223#提取数据集：进入到支付页的用户，和进入到产品页但没支付的用户rfdata=data[((data[&#x27;payment_page&#x27;]==0)&amp;(data[&#x27;product_page&#x27;]==1))|(data[&#x27;payment_page&#x27;]==1)]rfdata[&#x27;payment_page&#x27;] = rfdata[&#x27;payment_page&#x27;].astype(int)print(rfdata[&#x27;payment_page&#x27;].dtype)#定义特征和标签data_features = rfdata[[&#x27;new_user&#x27;, &#x27;age&#x27;,&#x27;sex&#x27;,&#x27;source&#x27;,&#x27;total_pages_visited&#x27;]]data_targets = rfdata[&#x27;payment_page&#x27;]x_train, x_test, y_train, y_test = train_test_split(data_features, data_targets, test_size=0.25, random_state=42)#初始化随机森林分类器model = RandomForestClassifier()#训练模型model.fit(x_train,y_train)y_pred = model.predict(x_test)#计算准确率accuracy = accuracy_score(y_test, y_pred)print(f&quot;模型的准确率: &#123;accuracy * 100:.2f&#125;%&quot;)#计算特征重要性feature_rank = model.feature_importances_for feature, importance in zip(data_features.columns, feature_rank): print(f&#x27;&#123;feature&#125;:&#123;importance * 100:.2f&#125;% &#x27;) 运行结果 模型的准确率: 86.36%模型准确率较高，可以认为该模型预测结果可信。 各特征影响程度: 新用户:2.05% 年龄:32.21% 性别:1.47% 用户来源:3.67% 访问页面数:60.60% 可以得出以下结论：一、用户特征中，访问页面数对用户进入支付页的影响最大，可以认为用户往往偏向于多次进入页面以充分了解产品后才会做出购买的行为。因此，调整产品页的信息量，采用直白、细致的语言精准描述产品特征、用途、及优点，并优化产品界面以吸引眼球，能更好地吸引用户产生购买行为；二、年龄为第二影响因素，可以认为年纪越大的用户越容易做出购买的行为。然而结合行为分析练习1中的结论——用户群中20-30年龄段的用户占比最大，可以认为该平台&#x2F;产品&#x2F;服务目前的营销策略更吸引年轻人，而忽略了中老年人的取向，然而中老年用户更容易产生支付行为，所以从产品页到支付页流失了大量的用户。因此在调整营销策略时，可以考虑向中老年人的取向倾斜，以求中老年客群的增长和订单成交率的提高。","categories":[{"name":"数据分析","slug":"数据分析","permalink":"http://example.com/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[]},{"title":"Landing NGC7714","slug":"Landing-NGC7714","date":"2024-10-09T16:00:00.000Z","updated":"2024-10-09T16:00:00.000Z","comments":true,"path":"2024/10/10/Landing-NGC7714/","permalink":"http://example.com/2024/10/10/Landing-NGC7714/","excerpt":"","text":"定之方中，作于楚宫。揆之以日，作于楚室。树之榛栗，椅桐梓漆，爰伐琴瑟。升彼虚矣，以望楚矣。望楚与堂，景山与京。降观于桑，卜云其吉，终焉允臧。 《诗经》鄘風·定之方中节选","categories":[{"name":"随笔","slug":"随笔","permalink":"http://example.com/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[]},{"title":"用户行为分析练习1 (Mysql,Tableau)","slug":"用户行为分析练习1","date":"2024-10-09T16:00:00.000Z","updated":"2024-10-09T16:00:00.000Z","comments":true,"path":"2024/10/10/用户行为分析练习1/","permalink":"http://example.com/2024/10/10/%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%E7%BB%83%E4%B9%A01/","excerpt":"","text":"数据来源：Kaggle 数据下载 分析需求 识别用户画像，帮助理解客户特征及需求； 漏斗分析，识别异常环节，帮助优化流程。 结论小结 用户画像：用户群体以发达城市中20-30年龄段、女性为主； SEO为吸引新客户的主要渠道； 用户流失率从主页到产品页平均流失25%，从产品页到支付页流失了42.74%的用户，用户转化存在阻碍，需要调整策略。 summary { font-size: 14px; /* 修改字体大小 */ color: #007BFF; /* 修改文字颜色 */ font-weight: bold; /* 设置为粗体 */ cursor: pointer; /* 鼠标悬停时变为手型 */ } 数据解释 12345678910111213141516171819202122232425User_info user_id ：用户id new_user ：新用户值为1、旧用户值为0 age ：用户年龄 sex ：用户性别 market ：用户所在市场级别 （1:直辖市/省会/沿海开放城市, 2:地级市, 3:小城市/县级市/县, 4:较发达乡镇 device ：用户设备 operative_system ：设备系统 source ：用户来源 （广告、搜索、直接） total_pages_visited ：访问页面数Home_page user_id：用户id page：浏览过主页的用户Listing_page user_id：用户id page：浏览过列表页的用户Product_page user_id：用户id page：浏览过产品详情页的用户Payment_page user_id：用户id page： 浏览过支付结算页的用户Payment_confirmation_page user_id：用户id page：浏览过确认支付完成页的用户 Mysql数据清洗1.处理重复项12345678910111213-- 识别重复项WITH CTE AS (SELECT *, ROW_NUMBER() OVER (PARTITION BY user_id) AS duplicated_rank FROM user_info)SELECT *FROM CTEWHERE duplicated_rank &gt;1;-- 删除重复项CREATE TEMPORARY TABLE duplicate_deleted ASSELECT *, ROW_NUMBER() OVER (PARTITION BY id) AS duplicate_rankFROM user_info;DELETE FROM duplicate_deleted WHERE duplicate_rank &gt;1; 2.删除空白行12345678910111213CREATE TEMPORARY TABLE null_deleted ASSELECT *FROM user_infoWHERE user_id =&#x27;&#x27; OR new_user =&#x27;&#x27; OR age =&#x27;&#x27; OR sex =&#x27;&#x27; OR market =&#x27;&#x27; OR device =&#x27;&#x27; OR operative_system =&#x27;&#x27; OR source =&#x27;&#x27; OR total_pages_visited =&#x27;&#x27;;DELETE FROM user_info WHERE user_id IN (SELECT user_id FROM null_deleted); 3.处理年龄值异常现实中年龄大于100岁人口占极小部分，在用户中不具有代表性，且为了避免由统计错误导致的年龄离群，此处删除超于100岁的数据。 1234SELECT age, COUNT(age) FROM user_infoGROUP BY ageORDER BY age;DELETE FROM user_info WHERE age &gt; 100; 结果可视化预览 var divElement = document.getElementById('viz1728897995908'); var vizElement = divElement.getElementsByTagName('object')[0]; if ( divElement.offsetWidth > 800 ) { vizElement.style.width='800px';vizElement.style.height='627px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='800px';vizElement.style.height='627px';} else { vizElement.style.width='100%';vizElement.style.height='2177px';} var scriptElement = document.createElement('script'); scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js'; vizElement.parentNode.insertBefore(scriptElement, vizElement); 用户画像1.用户数量123456SELECT new_user AS 用户类型, -- 新旧用户 COUNT(new_user) AS 人数, ROUND(COUNT(*)/(SELECT COUNT(*) FROM user_info) * 100,2) AS 用户比例FROM user_infoGROUP BY new_user; 结果显示： 用户类型 人数 用户比例 0 67636 68.49 1 31120 31.51 老用户占比远大于新用户，可以得出以下结论：一、该平台&#x2F;产品&#x2F;服务具有用户粘性，老用户留存率高，新用户增长放缓，市场可能接近饱和；二、现有营销策略难以吸引新用户，该平台&#x2F;产品&#x2F;服务知名度不足或吸引力不强，需要优化策略，寻求用户增长点。 2.年龄1234567891011121314151617-- 按年龄段分类SELECT age_temp AS 年龄段, COUNT(*) AS 人数, ROUND(COUNT(age_temp)/(SELECT COUNT(*) FROM user_info) *100,2) AS 用户比例FROM(SELECT age, CASE WHEN age &lt; 20 THEN &#x27;20以下&#x27; WHEN age BETWEEN 20 AND 30 THEN &#x27;20-30&#x27; WHEN age BETWEEN 30 AND 40 THEN &#x27;30-40&#x27; WHEN age BETWEEN 40 AND 50 THEN &#x27;40-50&#x27; WHEN age BETWEEN 50 AND 60 THEN &#x27;50-60&#x27; WHEN age &gt;60 THEN &#x27;60以上&#x27; END AS age_temp FROM user_info) AS age_groupGROUP BY age_temp; 结果显示： 年龄段 人数 用户比例 20以下 7308 7.40 20-30 45595 46.17 30-40 34820 35.26 40-50 9829 9.95 50-60 1137 1.15 60以上 67 0.07 20-30岁的用户占比最大，可以得出以下结论：一、该平台&#x2F;产品&#x2F;服务可能被认为具有年轻化或时尚的品牌形象，现有营销策略可能更符合这个年龄段用户的兴趣和需求；二、该平台&#x2F;产品&#x2F;服务不仅要迎合年轻群体的消费习惯，不断优化营销策略和选品，还应关注其他年龄层的需求，以求更大的用户增量，同时也能避免因年龄增长而流失用户。 3.性别1234567891011121314-- 用户性别SELECT sex AS 性别, COUNT(sex) AS 人数, ROUND(COUNT(*)/(SELECT COUNT(*) FROM user_info) * 100,2) AS 用户比例FROM user_info GROUP BY sex;-- 新旧用户性别SELECT sex AS 性别, COUNT(sex) AS 人数, ROUND(COUNT(*)/SUM(COUNT(*)) OVER (PARTITION BY new_user) *100,2) AS 用户比例FROM user_infoGROUP BY new_user,sex; 结果显示： 性别 人数 用户比例 Female 41325 61.10 Male 26311 38.90 Female 18917 60.79 Male 12203 39.21 无论是新用户还是老用户，女性占比都大于男性占比，可以得出以下结论：一、可以认为该平台&#x2F;产品&#x2F;服务更吸引女性用户，营销策略更迎合女性需求；二、老用户中男性占比为38.9%，而新用户中男性占比为39.21%，可以认为该平台&#x2F;产品&#x2F;服务可能调整了营销策略以求男性用户的增长，但应注意避免女性用户的流失。 4.使用设备&#x2F;系统1234567SELECT device AS 设备, operative_system AS 设备系统, COUNT(*) AS 使用人数, ROUND(COUNT(*)/SUM(COUNT(*)) OVER (PARTITION BY device) * 100,2) AS 用户比例FROM user_info GROUP BY device,operative_system; 结果显示： 设备 设备系统 使用人数 用户比例 mobile android 27091 45.36 mobile iOS 28263 47.32 mobile other 4371 7.32 desktop windows 29392 75.30 desktop mac 8480 21.73 desktop linux 1121 2.87 desktop other 38 0.10 5.地域分布1234567SELECT market AS 所在市场, COUNT(market) AS 人数, ROUND(COUNT(market)/(SELECT COUNT(*) FROM user_info) * 100,2) AS 用户比例FROM user_infoGROUP BY marketORDER BY market; 结果显示： 所在市场 人数 用户比例 1 57375 58.10 2 17577 17.80 3 17672 17.89 4 6132 6.21 整体用户中，位于一级市场的最多，可以得出以下结论：一、一级市场的用户通常具有更高的消费水平和对新鲜事物的高接受度，该平台&#x2F;产品&#x2F;服务的定位、营销策略更符合一级市场用户的需求；二、一级市场用户占比远大于二、三级市场，可能存在该平台&#x2F;产品&#x2F;服务定位过于高级、营销策略不吸引其他市场用户、定价过高等问题，导致该平台&#x2F;产品&#x2F;服务难以占据更大的市场份额；三、结合新老用户占比的情况，如果要寻求新用户增长，该平台&#x2F;产品&#x2F;服务也需要考虑是否有机会调整策略以吸引不同层次的用户。 漏斗分析1.整合数据1234567891011121314CREATE TEMPORARY TABLE temp_table AS SELECT u.*, h.page AS home_page, l.page AS listing_page, p.page AS product_page, y.page AS payment_page, c.page AS payment_confirmation_page FROM user_info AS u LEFT JOIN home_page AS h ON u.user_id = h.user_id LEFT JOIN listing_page AS l ON u.user_id = l.user_id LEFT JOIN product_page AS p ON u.user_id = p.user_id LEFT JOIN payment_page AS y ON u.user_id = y.user_id LEFT JOIN payment_confirmation_page AS c ON u.user_id = c.user_id; 2.查询基本信息123456SELECT SUM(total_pages_visited) AS 浏览量, COUNT(home_page) AS 访客, SUM(new_user) AS 新用户量, COUNT(payment_confirmation_page) AS 订单成交量FROM temp_table; 结果显示： 浏览量 访客 新用户量 订单成交量 584187 98756 31120 2382 3.计算转化率1234567SELECT ROUND(COUNT(home_page)/COUNT(*) * 100,2) AS 主页, ROUND(COUNT(listing_page)/COUNT(*) * 100,2) AS 列表页, ROUND(COUNT(product_page)/COUNT(*) * 100,2) AS 产品页, ROUND(COUNT(payment_page)/COUNT(*) * 100,2) AS 支付页, ROUND(COUNT(payment_confirmation_page)/COUNT(*) * 100,2) AS 支付完成页FROM temp_table; 结果显示： 主页 列表页 产品页 支付页 支付完成页 100.00 73.90 49.61 6.87 2.41 访客从主页到支付页的转化率大幅下降，仅有 6.87% 的用户进入支付环节，中间环节存在较大的用户流失。从主页到支付页，每一环节用户流失量依次为26.1%、24.29%、42.74%，可以发现，许多用户在浏览产品后并没有进入支付流程，这可能说明：一、产品页可能存在问题，例如产品信息不准确、信息过载或没有突出亮点，产品图和描述吸引力不足，或缺少客户评价、用户推荐等信任因素的加强，无法令用户产生购买冲动；二、产品可能存在问题，例如定价昂贵、不符合大众需求、性价比不高等。而最终支付完成率仅为2.41%，从支付页到这里又流失了4.46%的用户，很多用户在支付环节放弃了订单，这可能说明：一、购买冲动不足以支撑用户完成支付；二、支付流程有优化空间，例如简化支付流程，设置先买后付、免密支付、自动填充信息等功能，在支付页添加售后服务提示以增加用户信任度和购买信心等。 4.新用户来源1234567SELECT source AS 用户来源, COUNT(*) AS 人数, ROUND(COUNT(*)/(SELECT COUNT(*) FROM user_info WHERE new_user = 1) * 100, 2) AS 用户比例FROM user_infoWHERE new_user = 1GROUP BY source; 结果显示： 用户来源 人数 用户比例 Ads 10305 33.11 Direct 2227 7.16 Seo 18588 59.73 三种用户来源中，搜索引擎优化（SEO）获取到59.73%的新用户，这说明自然搜索流量是当前最重要的用户来源，SEO策略有效。其次是广告（Ads）渠道，占33.11%，说明付费推广也为网站带来了可观的流量。整体来看，SEO是最关键的流量来源，该平台&#x2F;产品&#x2F;服务应继续加强SEO策略，提升长期的流量增长；同时，该平台&#x2F;产品&#x2F;服务应思考如何提升广告投放、社媒运营、达人推荐等渠道到来的客流增长以及品牌知名度的打响。 Python的应用-随机森林模型用户行为分析练习2 (Python随机森林模型)","categories":[{"name":"数据分析","slug":"数据分析","permalink":"http://example.com/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[]}],"categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://example.com/categories/Hexo/"},{"name":"数据分析","slug":"数据分析","permalink":"http://example.com/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"},{"name":"随笔","slug":"随笔","permalink":"http://example.com/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[]}